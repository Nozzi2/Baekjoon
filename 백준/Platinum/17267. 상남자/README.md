# [Platinum V] 상남자 - 17267 

[문제 링크](https://www.acmicpc.net/problem/17267) 

### 성능 요약

메모리: 124844 KB, 시간: 448 ms

### 분류

너비 우선 탐색(bfs), 그래프 이론(graphs), 그래프 탐색(graph_traversal)

### 문제 설명

<p>CTP의 대표 상남자 영조는 자유롭게 이동하는 것을 좋아한다. 그렇지만 영조는 상남자이기 때문에 위아래로만 간다. 따라서 위, 아래로는 얼마든지 이동할 수 있지만 왼쪽, 오른쪽으로는 이동하지 않는다. 하지만 영조의 행동이 답답한 영조의 친구 보성이는 영조가 위, 아래로만 가는 걸 막기 위해 영조와 같이 다니며 왼쪽으로 최대 <em>L</em>번 오른쪽으로 최대 <em>R</em>번만큼 이동할 수 있게 영조를 도와준다. 영조와 보성이는 지도 밖으로는 나가지 않는다.</p>

<p>갈수 있는 땅, 벽의 위치, 영조와 보성이의 출발 위치가 지도 정보로 주어졌을 때 영조와 보성이가 출발 위치로부터 이동해서 갈 수 있는 모든 땅의 개수를 구해보자.</p>

<p>다음은 이해를 돕기 위한 예제1 그림이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/15fee471-cd34-476c-8572-cd934325c416/-/preview/" style="height: 337px; width: 500px;"></p>

<p>영조와 보성이가 시작 위치에서 갈수 있는 땅은 파란색, 벽이 있어 갈수 없는 땅은 검은색이다.</p>

<p>다음 그림은 영조와 보성이가 시작 위치에서 왼쪽으로 한 칸 이동했을 때이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/c8916dab-ab2e-45e3-8465-0820629a3d5c/-/preview/" style="height: 348px; width: 500px;"></p>

<p><strong>왼쪽으로 한 칸 이동하였으므로 더 이상 왼쪽으로는 갈 수 없고,</strong> 현재 상태에서 갈수 있는 길은 파란색으로 나타내었다.</p>

<p>다음 그림은 영조와 보성이가 시작 위치에서 아래로 갔을 때이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/9d07a586-8c16-4ebe-a2f4-b9679b497fc0/-/preview/" style="height: 363px; width: 500px;"></p>

<p>영조와 보성이가 아래로 한 칸 이동했을 때의 갈 수 있는 땅과 현재 상태이다.</p>

<p>다음 그림은 영조와 보성이가 자유롭게 이동하였을 때 도달 가능한 땅을 나타낸다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/7f6bdee8-a65f-43d4-88b6-5ad0f38277d9/-/preview/" style="width: 400px; height: 344px;"></p>

<p>영조와 보성이가 최대 왼쪽으로 <em>L</em>번, 오른쪽으로 <em>R</em>번 만큼 움직여서 자유롭게 이동했을 때 도달 가능한 땅은 13칸이다.</p>

### 입력 

 <p>첫 번째 줄에 지도의 행과 열 <em>N</em>, <em>M</em>이 주어진다 (1 ≤ <em>N</em>, <em>M </em>≤ 1,000)</p>

<p>두 번째 줄에 왼쪽과 오른쪽으로 갈수 있는 최대 횟수 <em>L</em>, <em>R</em>이 주어진다. (0 ≤ <em>L</em>,<em> R</em> ≤ <em>M</em>)</p>

<p>세 번째 줄부터 <em>N</em>+2줄까지 <em>M </em>의 크기만큼 지도가 주어진다.</p>

<ul>
	<li>0: 갈 수 있는 땅</li>
	<li>1: 벽이 있어 갈 수 없는 땅</li>
	<li>2: 영조와 보성이가 있는 위치</li>
</ul>

### 출력 

 <p>시작 위치를 포함하여 갈수 있는 땅의 개수를 출력한다.</p>

### 풀이 방법
- 17:00 ~ 브레인 스토밍
    - DFS 탐색을 진행하면서 현재 왼쪽, 오른쪽으로 간 횟수를 저장하여 끝까지 탐색하는 것으로 짜면 될듯?
    - 방문처리를 true, false로 하면 방문하지 못하는 경우가 생길 수 있음.
    - 방문처리에 대한 새로운 로직을 짜야할 듯
        - 방문했을 때 해당 칸에 현재 L,R값을 입력해놓고, 다음 탐색했을 때 저장된 LR값보다 낮다면 해당칸의 탐색은 종료하면 될듯?
            - 해당 칸 까지 가는데에 더 많은 걸음수롤 소모했을 경우 더 멀리 나갈 수 없기 때문임
- 17:30 ~ 코드 작성
    - 이렇게 짜면 시간초과 발생함..ㅠㅠ (18:25)
    - dfs탐색을 상하좌우로 하는 것이 아니라 해당칸에서 좌, 우 만 탐색하는 것으로 하는게 좋을듯.
    - dfs 탐색 호출할때는 왼쪽 또는 오른쪽칸 이동해서 첫 방문시 위 아래로 쫙 dfs탐색 호출하기
    - 저렇게 해도 시작하기도 전에 시간초과가 걸려서 bfs로 바꿔서 해봐야겠음
- 22:45 풀이 완료! (4시간 45분 (저녁식사 1시간뺌))
    - dfs는 로직이 맞아도 죽어도 안풀렸었는데, bfs로하니까 풀렸음…
